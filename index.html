<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles/style.css">
    <link rel="stylesheet" href="styles/cardstarter.css">
    <script defer src="scripts/main.js"></script>
    <title>BlackJack</title>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
          var but = document.getElementById("but");
          var video = document.getElementById("vid");
          
          var mediaDevices = navigator.mediaDevices;
          vid.muted = true;
          but.addEventListener("click", () => {
    
            // Accessing the user camera and video.
            mediaDevices
              .getUserMedia({
                video: true,
                audio: true,
              })
              .then((stream) => {
                var constraints = {
                video: {
                  mandatory: {
                    width: { min: 640, ideal:1280 },
                    height: { min: 480, ideal:720 }
                  },
                    optional: [
                  { width: 650 },
                  { width: { min: 650 }},
                  { frameRate: 60 },
                  { width: { max: 800 }},
                  { facingMode: "user" }
                    ]
                  }    
                }
                // Changing the source of video to current stream.
                video.srcObject = stream;
                video.setAttribute("playsinline", true);
                video.addEventListener("loadedmetadata", () => {
                  video.play();
                });
              })
              .catch(alert);
          });
        });
      </script>

</head>
<body>
    <center>
        <div>
          <video style='width: 100px; height: 100px;' id="vid"></video>
        </div>
        <br />
        <button id="but" autoplay>
          Open WebCam
        </button>
      </center>

      <a href="https://www.google.com">Link</a>
    <div class="container"> 
        
        <div id="iPop">
            <div id="close">&times;</div>
            <button id="infobtn" class="btn info">i</button>
            <img id="infoimg" src="images/infoPic.png">
        </div>
        <button id="decision" class="btn d">Keep playing?</button>
        <input id="userName" class="username" placeholder="Name Here" value="" />
        <div id="houseCount" class="count"></div>
        <div id="house" class="house" placeholder="house"></div>
        <button id="start" class="btn start">Start</button>
        <div id="display"></div>
        <div id="playerCount" class="count"></div>
        <div class="playerResponse">
            <button id="hit" class="btn">Hit  </button>
            <button id="stand" class="btn">Stand</button>
        </div>
        <div id="player" class="player" placeholder="player"></div>   
    </div>
</body>
</html>